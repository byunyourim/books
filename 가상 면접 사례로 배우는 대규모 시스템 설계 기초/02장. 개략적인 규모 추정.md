# 개략적인 규모 추정


1바이트는 8 비트로 ASCII 문자 하나가 차지하는 메모리가 1바이트이다.  

## 데이터 볼륨 단위

|2의 x제곱|근사치|이름|축약형|
|------|-----|------|-------|
|10|1천|1킬로바이트|1KB|
|20|1백만|1메가바이트|1MB|
|30|10억|1기가바이트|1GB|
|40|1조|1테라바이트|1TB|
|50|1000조|1페타바이트|1PB|


<br>

## 응답지연 값
![img.png](https://github.com/user-attachments/assets/c01683f4-cac3-43c6-87ea-e9c04d2de8ff)



<br>

## 응답지연 값 시각확
<img width="588" alt="스크린샷 2024-10-20 오후 2 56 10" src="https://github.com/user-attachments/assets/36e09c18-86e2-46f1-a9b3-0e130ac828f1">


- 메모리는 빠르지만 디스크는 아직도 느리다.
- 디스크 탐색은 가능한 피하라
- 단순한 압축 알고리즘은 빠르다.
- 데이터를 인터넷으로 전송하기 전에 가능하면 압축하라.
- 데이터 센터는 보통 여러지역에 분산되어 있고, 센터들 간에 데이터를 주고 받는데에 시간이 걸린다.


<br>

## 가용성에 관계된 수치들
고사용ㅅ성은 시스템이 오랜 시간 동안 지속적으로 중단 없이 운영될 수 있는 능력이다.  

100% : 시스템이 단 한 번도 중단된 적이 없음

대부분의 서비스는 99%에서 100% 사이의 값을 갖는다.  





<br>

## 예제 : 트위터 QPS와 저장소 요구량 추정
### 가정
- 월간 능동 사용자는 3억명  
- 50%의 사용자가 트위터를 매일 사용한다.
- 평균적으로 각 사용자는 매일 2건 트윗 올린다.
- 미디어를 포함한 트윗은 10% 정도  
- 데이터는 5년간 보관된다.

### 추정
QPS(Query Per Second) 추정치
- 일간 능동 사용자(DAU) = 3억 * 50% = 1.5억
- QPS = 1.5억 * 2/(24시간/3600초) = 약 3500개
- 최대 QPS = 2 * QPS = 7000 (사용자가 몰릴 수 있는 경우를 대비하여 QPS를 두 배로 잡는다)

### 미디어 저장을 위한 저장소 요구량
평균 트윗 크기
- tweet_id에 64바이트
- 텍스트에 140바이트
- 미디어에 1MB
- 미디어 저장소 요구량 : 1.5 * 2 * 10% * 1MB = 30TB/일
- 5년간 미디어 저장소 요구 : 30TB * 365 * 5 = 약 55PB

<br>

## 팁
개략적인 규모 추정과 관계된 면접은 계산하는게 아니라, 결과를 내는 것이 중요하다.

- 근사치 계산은 생략 (99987/9.1  -> 100000/10)
- 가정은 적어두라 나중에 볼 수 있도록
- 단위를 붙여라
- 많이 출제되는 개략적 규모 추정 문제는 QPS, 최대 QPS, 저장소 요구량, 캐시 요구량, 서버 수 등을 추정하는 것이다.






