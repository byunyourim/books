Expression의 plus를 마무리하려면 가짜 구현된 Sum의 plus도 구현해야 한다. 그리고 Expression에 times를 구현하면 예제가 끝난다.
Sum.plus()에 대한 테스트 코드를 작성하면 다음과 같다.

```java
public void testSumPlusMoney() {
    Expression fiveBucks = Money.dollar(5);
    Expression tenFrancs  = Money.franc(10);
    Bank bank = new Bank();
    bank.addRate("CHF", "USD", 2);
    Expression sum = new Sum(fiveBucks, tenFrancs).plus(fiveBucks);
    Money result = bank.reduce(sum, "USD");

    assertEquals(Money.dollar(15), result);
}
```



<br><br><br>
위의 예제에서 fivebucks.plus()를 이용해서도 Sum을 만들 수 있지만, 의도적으로 Sum을 보여주기 위해 위와 같이 작성하였다.
그리고 다음과 같이 Sum 클래스의 plus를 채우면 테스트는 성공하게 된다.

```java
public Expression plus(Expression addend) {
    return new Sum(this, addend);
}
```



<br><br><br>
그리고 이제 Expression의 times만 남았다. 우선 이에 대한 테스트 코드를 작성하도록 하자.
```java
public void testSumTimes() {
    Expression fiveBucks = Money.dollar(5);
    Expression tenFrancs  = Money.franc(10);
    Bank bank = new Bank();
    bank.addRate("CHF", "USD", 2);
    Expression sum = new Sum(fiveBucks, tenFrancs).times(2);
    Money result = bank.reduce(sum, "USD");
    assertEquals(Money.dollar(20), result);
}
```



<br><br><br>
그러면 Sum에 times가 존재하지 않아 컴파일 에러가 발생한다. Sum에 다음과 같은 times 함수를 정의할 수 있다.

```java
Expression times(int multiplier) {
    return new Sum(augend.times(multiplier), addend.times(multiplier));
}
```



<br><br><br>
그러면 Expression 클래스의 변수인 augend와 addend에 times가 존재하지 않아 컴파일 에러가 또 발생하므로, Expression에도 times를 추가해준다.
```java
Expression times(int multiplier);
```


<br><br><br>
출처: https://mangkyu.tistory.com/141 [MangKyu's Diary:티스토리]```java
```java
Sum Class
public Expression times(int multiplier) {
    return new Sum(augend.times(multiplier), addend.times(multiplier));
}

Money Class
public Expression times(int multiplier) {
    return new Money(amount * multiplier, currency);
}
```
