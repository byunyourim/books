### 프로세스와 OS의 관계
![프로세스와OS의관계.png](https://github.com/user-attachments/assets/9cb2b403-cabf-4a60-8fe6-58c7fb5e39ca)
사용자 모드의 프로세스 처리부터 시스템 콜을 통한 커널처리를 호출하는 방식이다..  
프로그램 고유의 코드가 호출을 할 수도 있고, 그 코드가 사용하는 라이브러리가 호출을 할 수도 있다.

<br><br><br>

## System Call
프로세스는 프로세스의 생성이나 하드웨어의 조작 등 커널의 도움이 필요한 경우 시스템 콜을 통해 호출한다.  

<br>

#### 시스템 콜의 종류
- 프로세스 생성, 삭제
- 메모리 확보, 해제
- 프로세스 간 통신(IPC)
- 네트워크
- 파일 시스템 다루기
- 파일 다루기 (디바이스 접근)

<br>

## CPU의 모드 변경
시스템 콜은 CPU의 특수한 명령을 실행해야만 호출된다.
프로세스는 보통 사용자 모드로 실행되지만, 커널에 처리를 요청하기 위해 시스템 콜을 호출하면
CPU에서는 인터럽트 이벤트가 발생한다.
인터럽트 이벤트가 발생하며 CPU는 사용자 모드에서 커널 모드로 변경되며 요청한 내용을 처리하기 위해 커널이 동작한다.

요청한 내용의 처리가 완료됨면 커널 내의 시스템 콜이 종료되고, 다시 사용자 모드로 돌아가 프로세스의 동작이 이어서 진행한다.  

![cpu의모드변경.png](src="https://github.com/user-attachments/assets/8652d51d-cc0f-4a34-8ce5-bc160decc616)

커널은 프로세스가 요청한 내용을 처리하기 전에 프로세스의 요구가 유효한지 확인한다.(메모리의 용량 등)
요구 사항이 맞지 않으면 커널은 시스템 콜을 실패 처리한다.

**유저 프로세스에서 시스템 콜을 통하지 않고 CPU모드를 변경하는 방법은 없다.**


<br><br><br>


## 시스템 콜 호출의 동작 순서
프로세스가 어떠한 시스템 콜을 호출했는지는 **strace** 명령어를 통해 확인 가능하다.
![]()




![]()
