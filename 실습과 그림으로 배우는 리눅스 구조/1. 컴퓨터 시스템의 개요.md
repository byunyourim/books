OS 와 하드웨어으니 관계, 그리고 OS란 어떤 것일까?

## 컴퓨터 시스템이 동작할 때 하드웨어의 동작
![process.png](https://github.com/user-attachments/assets/1e428457-6c49-4bad-9cf9-fbc8b787efed)
1. 컴퓨터에 입력 장치 또는 네트워크 어댑터를 통해 어떤 처리 요청이 들어온다.
2. 메모리에 있는 명령을 읽어 CPU에서 실행한다.
3. 실행한 결과값을 메모리의 다른 영역에 기록한다.
4. 메모리의 데이터를 HDD 또는 SDD등의 저장 장치에 기록 하거나, 네트워크를 통해 다른 컴퓨터에 전송, 또는 출력 장치를 통해 유저에게
  결과값으로 보여준다.
5. 1번부터 반복해서 실행한다.

위의 동작을 반복해서 사용자에게 필요한 하나의 처리(기능)로 정의한 것을 프로그램이라고 한다.

<br><br><br>

## 프로그램의 종류
1. 애플리케이션 : 사용자가 직접 사용한다. 스마트폰이나 태플릿에서 사용되는 앱이 있다.
2. 미들웨어 : 여러 애플리케이션이 공통으로 사용하는 처리를 묶어 애플리케이션의 실행을 도와준다. 웹 서버, 데이터베이스가 있다.
3. OS : 하드웨어를 직접 조작하여 애플리케이션이나 미들웨어의 실행에 필요한 기능을 제공한다. 리눅스, MS윈도우, OSX가 있다.

![program.png](https://github.com/user-attachments/assets/9e9e81c0-2025-4245-a24d-f8f5de182ca3)


OS는 여러 프로그램을 프로세스 단위로 실행한다.
프로그램은 1개 또는 여러 개의 프로세스로 구성되며,  OS는 여러 개의 프로세스를 동시에 실행할 수 있다.
![process2.png](https://github.com/user-attachments/assets/49f4a514-a806-4aab-afe6-18a23209ea60)

### OS가 없을 때 장치 조작 방법
![디바이스동작1.png](https://github.com/user-attachments/assets/8bde6e8a-c107-4188-a627-fa4d41330040)
위의 경우 단점은
1. 모든 어플리케이션 개발자가 디바이스의 스펙을 상세히 알아야 디바이스 조작이 가능하다.
2. 개별적으로 개발해야 하기 때문에 개발 비용이 크다.
3. 멀티 프로세스가 동시에 디바이스를 조작하는 경우 예상 외의 동작이 발생할 수 있다.


이러한 단점으로 리눅스는 디바이스 드라이버라는 프로그램을 통해 디바이스를 다룬다.
따라서 디바이스 드라이브를 통해서만 디바이스를 조작할 수 있다.
![디바이스동작2.png](https://github.com/user-attachments/assets/210e06ea-93a5-43eb-ad07-3355b5a4ca80)



<br>


프로특정 프로스세가 '디바이스 드라이버를 통해 디바이스에 접근' 이라는 규칙을 깨면?
-> 멀티 프로세스가 동시에 디바이스를 조작하려고 하는 상황이 발생한다.  

리눅스는 이러한 문제를 해결하기 위해 프로세스가 직접 하드웨어에 접근하는 것을 막는다.

CPU에는 커널 모드와 사용자 모드가 존재한다. 커널 모드로 동작할 때만 디바이스에 접근할 수 있다.
디바이스 드라이버는 커널 모드로, 프로세스는 사용자 모드로 동작한다.  
![mode.png](https://github.com/user-attachments/assets/9e367bab-ee25-426b-8e21-da7e3c22f2f1)


##### 디바이스 조작 외 프로세스가 실행하면 안되는 수행?
- 프로세스 관리 시스템
- 프로세스 스케줄링
- 메모리 관리 시스템

위의 처리도 커널 모드에서 동작한다.
커널 모드에서 동작하는 OS의 핵심이 되는 처리를 모아 담당하는 프로그램을 커널이라고 한다.

  <br>
  
프로세스가 디바이스 드라이버를 포함한 커널이 제공하는 기능을 사용하려고 할 때 시스템 콜이라는 처리를 통해 커널에 요청한다.

  <br>

![커널.png](https://github.com/user-attachments/assets/9624f0bd-935c-403d-aab8-c8c7ad8e83de)

OS는 커널만을 말하는 것은 아니며, 커널 외에도 사용자 모드에서 동작하는 다양한 프로그램으로 구성된다.
OS는 시스템에 탑재된 CPU, 메모리 등의 리소스를 관리하며 리소스의 일부를 시스템에 존재하는 각 프로세스에 적절히 분배한다.


커널이 CPU나 메모리 등의 리소스를 관리한다.


프로그램의 실행에 있어 다양한 데이터가 메모리를 중심으로 CPU의 레지스터나 저장장치 같은 기억장치 사이에서 전송된다.
크기, 가격, 전송 속도 등에서 각각의 장단점이 있으며 계층 구조를 구성한다. 프로그램을 빠르고 안정적으로 동작시키기 위해
기억장치를 유용하게 활용해야 한다.

또한 저장 장차에 보관된 데이터는 디바이스 드라이버를 통해 접근이 가능하지만, 좀 더 간단히 접근하기 위해 파일시스템이라는 프로그램을 이용할 수 있다.

시스템을 작동하기 위해서는 우선, 저장장치로부터 OS를 읽어야 한다. 추가로 시스템이 동작하ㅏ면서 생성된 메모리상의 데이터는 전원이 종료되면 사라지기 때문에 
저장장치에 기록해두어야 한다.



